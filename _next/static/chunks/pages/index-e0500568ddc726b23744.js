(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9299:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(3391),s=r(5893),a=r(9008),c=r(5723),i=r(7757),o=r.n(i),l=r(6156),d=r(2137);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){return f.apply(this,arguments)}function f(){return(f=(0,d.Z)(o().mark((function e(){var t,r,n,s,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,r=new Array(t),n=0;n<t;n++)r[n]=a[n];return r[0]="https://healthchecks.io/api"+r[0],r[1]=m(m({},r[1]),{},{headers:{Accept:"application/json","X-Api-Key":"QjOgLD7b2yFA3WWjzO1ny40UM7kxk2lJ"}}),e.next=5,fetch.apply(void 0,r);case 5:return s=e.sent,e.abrupt("return",s.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=r(6049),p=r(3802),g=r(381),b=r.n(g),j=function(e){var t=e.name,r=e.checksData;return(0,s.jsxs)("div",{className:"text-white bg-gray-800 rounded-lg p-4 flex flex-col my-6",children:[(0,s.jsx)("h1",{className:"text-2xl text-gray-400 font-semibold mb-1 leading-tight",children:t}),r&&r.sort((function(e,t){var r=["SSH","GPU","filesystem capacity"];return r.indexOf(e.serviceName)-r.indexOf(t.serviceName)})).map((function(e,t){return(0,s.jsxs)("div",{className:"flex items-center my-2",children:[(0,s.jsx)("div",{className:"rounded-full flex justify-center items-center p-1 mr-4 relative z-10 ".concat({up:"bg-green-600",down:"bg-red-600",paused:"bg-gray-600",grace:"bg-yellow-600"}[e.status]),children:{up:(0,s.jsx)(x.nQG,{className:"h-3 w-3 text-white"}),down:(0,s.jsx)(x.b0D,{className:"h-3 w-3 text-white"}),paused:(0,s.jsx)(x.fpf,{className:"h-3 w-3 text-white"}),grace:(0,s.jsx)(x.$Ow,{className:"h-3 w-3 text-white"})}[e.status]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-semibold",children:e.serviceName}),(0,s.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,s.jsx)("span",{children:b()(e.last_ping).diff(b()(),"days")>-100?b()(e.last_ping).fromNow():b()(e.last_ping).format("DD MMMM YYYY")}),void 0!==e.last_duration&&0!==e.last_duration&&(0,s.jsxs)("span",{className:"flex items-center ml-1",children:[(0,s.jsx)(p.T39,{className:"h-3 w-3 text-gray-500 mr-1"}),e.last_duration," sec"]})]})]})]},t)}))]})};function v(){var e=(0,c.ZP)("/v1/checks/",h,{refreshInterval:3e4,refreshWhenHidden:!0}),t=e.data,r=e.error,i={},o=0,l=0;return t&&t.checks.forEach((function(e){o++,"down"==e.status&&l++;var t=e.name.split(" ")[0];e.serviceName=e.name.match(/\(.*\)/)[0].replace(/[()]/g,""),i[t]?i[t].items.push(e):i[t]={items:[e]}})),(0,s.jsxs)("div",{children:[(0,s.jsxs)(a.default,{children:[(0,s.jsx)("title",{children:"WATonomous Services"}),(0,s.jsx)("meta",{name:"description",content:"All your healtchecks at a glance"}),(0,s.jsx)("meta",{property:"og:title",content:"WATonomous Services"}),(0,s.jsx)("meta",{property:"og:image",content:"og_image.png"}),(0,s.jsx)("meta",{property:"og:description",content:"All your healtchecks at a glance"}),(0,s.jsx)("link",{rel:"icon",href:"/".concat(l?"favicon-error.ico":"favicon.ico")}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1 user-scalable=no"}),(0,s.jsx)("link",{rel:"apple-touch-icon",href:"apple-touch-icon.png"})]}),(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r&&(0,s.jsxs)("div",{className:"text-center m-8",children:[(0,s.jsx)("div",{className:"bg-red-600 h-16 w-16 p-3 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(x.b0D,{className:"w-full text-white"})}),(0,s.jsx)("h1",{className:"text-red-500 font-bold text-xl",children:"There was an error fetching the API"})]}),t&&(0,s.jsxs)("div",{className:"my-5",children:[(0,s.jsxs)("div",{className:"w-36 h-36 relative mx-auto my-1s",children:[(0,s.jsx)("div",{className:"rounded-full absolute inset-6 bg-gradient-to-b ".concat(l?"from-red-400 border-red-500":"from-green-400 border-green-500"," border-2 opacity-20 z-0 animate-ping-slow")}),(0,s.jsx)("div",{className:"rounded-full absolute inset-4 ".concat(l?"bg-red-400":"bg-green-400"," bg-opacity-10 z-10 animate-pulse")}),(0,s.jsx)("div",{className:"rounded-full absolute inset-6 inse bg-gradient-to-b ".concat(l?"from-red-500 to-red-600 border-red-500":"from-green-500 to-green-600 border-green-500"," border-4  z-20")})]}),(0,s.jsx)("h1",{className:"".concat(l?"text-red-500":"text-green-400"," font-bold text-center text-xl"),children:l?"".concat(l," ").concat(1==l?"error":"errors"):"".concat(o," ").concat(1==o?"check":"checks",", all fine \ud83d\ude0c")})]}),t&&(0,s.jsx)("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:i&&Object.entries(i).sort((function(e,t){var r=["delta-ubuntu1","thor-ubuntu1","tr-ubuntu1","wato2-ubuntu1","wato3-ubuntu1","Bastion","Ceph"];return r.indexOf(e[0])-r.indexOf(t[0])})).map((function(e,t){var r=(0,n.Z)(e,2),a=r[0],c=r[1];return(0,s.jsx)(j,{name:a,checksData:c.items},t)}))})]})]})}},8581:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9299)}])}},function(e){e.O(0,[885,197,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);