(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9299:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s(5893),n=s(9008),a=s(5723),c=s(7757),i=s.n(c),l=s(6156),o=s(2137);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){(0,l.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function p(){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(){var t,s,r,n,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,s=new Array(t),r=0;r<t;r++)s[r]=a[r];return s[0]="https://healthchecks.io/api"+s[0],s[1]=u(u({},s[1]),{},{headers:{Accept:"application/json","X-Api-Key":"QjOgLD7b2yFA3WWjzO1ny40UM7kxk2lJ"}}),e.next=5,fetch.apply(void 0,s);case 5:return n=e.sent,e.abrupt("return",n.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=s(6049),h=s(3802),g=s(381),f=s.n(g),b=function(e){var t=e.name,s=e.status,n=e.last_ping,a=(e.tz,e.last_duration);return(0,r.jsxs)("div",{className:"text-white bg-gray-800 rounded-lg p-4 flex items-center justify-between relative",children:[(0,r.jsx)("div",{className:"rounded-full  flex justify-center items-center p-1 mr-4 relative z-10 ".concat({up:"bg-green-600",down:"bg-red-600",paused:"bg-gray-600",grace:"bg-yellow-600"}[s]),title:{up:"Up",down:"Down",paused:"Paused",grace:"Grace"}[s],children:{up:(0,r.jsx)(x.nQG,{className:"h-5 w-5 text-white"}),down:(0,r.jsx)(x.b0D,{className:"h-5 w-5 text-white"}),paused:(0,r.jsx)(x.fpf,{className:"h-5 w-5 text-white"}),grace:(0,r.jsx)(x.$Ow,{className:"h-5 w-5 text-white"})}[s]}),(0,r.jsxs)("div",{className:"flex-1 relative z-10",children:[(0,r.jsx)("h3",{className:"font-semibold mb-1 leading-tight",children:t}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,r.jsx)("span",{children:f()(n).diff(f()(),"days")>-100?f()(n).fromNow():f()(n).format("DD MMMM YYYY")}),a&&(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(h.T39,{className:"h-3 w-3 text-gray-500 mr-1"}),a," sec"]})]})]}),"down"==s&&(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-red-700 rounded-lg z-0"}),"paused"==s&&(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-gray-700 rounded-lg z-0"}),"grace"==s&&(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-yellow-800 rounded-lg z-0"})]})};function j(){var e=(0,a.ZP)("/v1/checks/",p,{refreshInterval:3e4,refreshWhenHidden:!0}),t=e.data,s=e.error,c={},i=0,l=0;return t&&(t.checks.sort((function(e){return"down"==e.status?-1:0})),t.checks.forEach((function(e){i++,"down"==e.status&&l++;var t=e.tags.split(" ").sort().join("");if(c[t])c[t].items.push(e);else{c[t]={items:[e],tags:e.tags,status:{up:0,down:0,paused:0,grace:0}}}c[t].status[e.status]++}))),(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.default,{children:[(0,r.jsx)("title",{children:"WATonomous Services"}),(0,r.jsx)("meta",{name:"description",content:"All your healtchecks at a glance"}),(0,r.jsx)("meta",{property:"og:title",content:"WATonomous Services"}),(0,r.jsx)("meta",{property:"og:image",content:"og_image.png"}),(0,r.jsx)("meta",{property:"og:description",content:"All your healtchecks at a glance"}),(0,r.jsx)("link",{rel:"icon",href:"/".concat(l?"favicon-error.ico":"favicon.ico")}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1 user-scalable=no"}),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"apple-touch-icon.png"})]}),(0,r.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s&&(0,r.jsxs)("div",{className:"text-center m-8",children:[(0,r.jsx)("div",{className:"bg-red-600 h-16 w-16 p-3 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(x.b0D,{className:"w-full text-white"})}),(0,r.jsx)("h1",{className:"text-red-500 font-bold text-xl",children:"There was an error fetching the API"})]}),t&&(0,r.jsxs)("div",{className:"my-5",children:[(0,r.jsxs)("div",{className:"w-36 h-36 relative mx-auto my-1s",children:[(0,r.jsx)("div",{className:"rounded-full absolute inset-6 bg-gradient-to-b ".concat(l?"from-red-400 border-red-500":"from-green-400 border-green-500"," border-2 opacity-20 z-0 animate-ping-slow")}),(0,r.jsx)("div",{className:"rounded-full absolute inset-4 ".concat(l?"bg-red-400":"bg-green-400"," bg-opacity-10 z-10 animate-pulse")}),(0,r.jsx)("div",{className:"rounded-full absolute inset-6 inse bg-gradient-to-b ".concat(l?"from-red-500 to-red-600 border-red-500":"from-green-500 to-green-600 border-green-500"," border-4  z-20")})]}),(0,r.jsx)("h1",{className:"".concat(l?"text-red-500":"text-green-400"," font-bold text-center text-xl"),children:l?"".concat(l," ").concat(1==l?"error":"errors"):"".concat(i," ").concat(1==i?"check":"checks",", all fine \ud83d\ude0c")})]}),t&&(0,r.jsx)("div",{className:"space-y-12 grid grid-cols-1 mb-8",children:c?Object.entries(c).map((function(e,t){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-right",children:(0,r.jsxs)("div",{className:"text-gray-400 inline-flex items-center mb-3 font-semibold",children:[e[1].tags,0!==e[1].status.up&&(0,r.jsx)("span",{className:"bg-green-900 px-3 py-1 rounded-full ml-2 font-bold text-white",title:"Up",children:e[1].status.up}),0!==e[1].status.down&&(0,r.jsx)("span",{className:"bg-red-900 px-3 py-1 rounded-full ml-2 font-bold text-white",title:"Down",children:e[1].status.down}),0!==e[1].status.paused&&(0,r.jsx)("span",{className:"bg-gray-800 px-3 py-1 rounded-full ml-2 font-bold text-white",title:"Paused",children:e[1].status.paused}),0!==e[1].status.grace&&(0,r.jsx)("span",{className:"bg-yellow-800 px-3 py-1 rounded-full ml-2 font-bold text-white",title:"Grace",children:e[1].status.grace})]})}),(0,r.jsx)("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:e[1]&&e[1].items instanceof Array&&e[1].items.map((function(e,t){return(0,r.jsx)(b,{name:e.name,status:e.status,last_ping:e.last_ping,tz:e.tz,last_duration:e.last_duration?e.last_duration:null},t)}))})]},t)})):(0,r.jsx)("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:t&&t.checks&&t.checks instanceof Array&&t.checks.map((function(e,t){return(0,r.jsx)(b,{name:e.name,status:e.status,last_ping:e.last_ping,tz:e.tz,last_duration:e.last_duration?e.last_duration:null},t)}))})})]})]})}},8581:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9299)}])}},function(e){e.O(0,[885,229,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);